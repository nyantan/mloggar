// Copyrights C-EGG inc.
(function(){var m=document;function p(h){return m.getElementById(h)}function q(h){return m.getElementsByClassName(h)}function r(h,g){for(var b=h.length-1;0<=b;--b)h[b].classList.add(g)}function u(h,g){for(var b=h.length-1;0<=b;--b)h[b].classList.remove(g)}function w(){return m.body.scrollTop||m.documentElement.scrollTop}function x(){window.event&&window.event.preventDefault&&window.event.preventDefault()}var ba={left:1,top:1,width:1,height:1,fontSize:1},y="ontouchstart"in m.documentElement;navigator.userAgent.match(/ OS [432]_/);
var ca=window.devicePixelRatio||1;window.location.search.match(/[\?&]pixelRatio=(\d)/)&&(ca=RegExp.$1>>0);function z(h){for(var g=1;g<arguments.length;++g)arguments[g].style.display=h}function A(h,g,b,e){h=m.createElement(h);if(b&&b)for(var c in b)h[c]=b[c];if(e){b=h.style;for(var a in e)b[a]=e[a]+(ba[a]?"px":"")}return g?g.insertBefore(h):h}var da=function(){var h=0,g=void 0;setInterval(function(){g&&4<++h&&g()},150);return{set:function(b){g=b;h=0}}}();function B(h){return"\u6771\u5357\u897f\u5317"[h]}
var ea=[[[0,1,2,4],[2,0,1,4],[1,2,0,4],[4,4,4,4]],[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]]],C=function(){var h="---";return{w:{},D:{},j:function(g,b,e){var c=g+""+b+""+e;if(c!=h){h=c;console.log("furo.init",g,b,e);for(var a=c="",d="     ".split(" "),n="",k=["","","","",""],f=0;4>f;++f)a+="p0A0B0C0#000#00=p1A0B0C p0A0B0C0#000#00=0Bp1A0C p0A0B0C0#000#00=0B0Cp3A m0A0B0C0D0#00=m1A0B0C0D m0A0B0C0D0#00=0Bm1A0C0D m0A0B0C0D0#00=0B0C0Dm3A k0A0A0#000#000#00=k5A1B0C0D k0A0A0#000#000#00=0Ck5A1B0D k0A0A0#000#000#00=0C0Dk7A3B a0D0A0B0C0D=0A0B0Ca0D ".replace(/[ABCD]/g,"#X"+
(f+1));for(f=5;7>f;++f)a+="p0A0B0C0#000#00=p1A0B0C p0A0B0C0#000#00=0Bp1A0C p0A0B0C0#000#00=0B0Cp3A m0A0B0C0D0#00=m1A0B0C0D m0A0B0C0D0#00=0Bm1A0C0D m0A0B0C0D0#00=0B0C0Dm3A k0A0A0#000#000#00=k5A1B0C0D k0A0A0#000#000#00=0Ck5A1B0D k0A0A0#000#000#00=0C0Dk7A3B a0D0A0B0C0D=0A0B0Ca0D ".replace(/[ABCD]/g,"#X"+(f+1));for(f=7;9>f;++f)n+="p0A0B0C0#000#00=p1A0B0C p0A0B0C0#000#00=0Bp1A0C p0A0B0C0#000#00=0B0Cp3A m0A0B0C0D0#00=m1A0B0C0D m0A0B0C0D0#00=0Bm1A0C0D m0A0B0C0D0#00=0B0C0Dm3A k0A0A0#000#000#00=k5A1B0C0D k0A0A0#000#000#00=0Ck5A1B0D k0A0A0#000#000#00=0C0Dk7A3B a0D0A0B0C0D=0A0B0Ca0D ".replace(/[ABCD]/g,
"#X"+(f+1));d[1]+="p0A0B0C0#000#00=p1A0B0C p0A0B0C0#000#00=0Bp1A0C p0A0B0C0#000#00=0B0Cp3A ".replace(/[ABC]/g,"#X5");d[2]+="p0A0B0C0#000#00=p1A0B0C p0A0B0C0#000#00=0Bp1A0C p0A0B0C0#000#00=0B0Cp3A ".replace(/[C]/g,"#5X").replace(/[AB]/g,"#X5");d[3]+="p0A0B0C0#000#00=p1A0B0C p0A0B0C0#000#00=0Bp1A0C p0A0B0C0#000#00=0B0Cp3A ".replace(/[CB]/g,"#5X").replace(/[A]/g,"#X5");d[2]+="p0A0B0C0#000#00=p1A0B0C p0A0B0C0#000#00=0Bp1A0C p0A0B0C0#000#00=0B0Cp3A ".replace(/[A]/g,"#5X").replace(/[BC]/g,"#X5");d[3]+=
"p0A0B0C0#000#00=p1A0B0C p0A0B0C0#000#00=0Bp1A0C p0A0B0C0#000#00=0B0Cp3A ".replace(/[AC]/g,"#5X").replace(/[B]/g,"#X5");d[4]+="p0A0B0C0#000#00=p1A0B0C p0A0B0C0#000#00=0Bp1A0C p0A0B0C0#000#00=0B0Cp3A ".replace(/[ABC]/g,"#5X");k[0]+="m0A0B0C0D0#00=m1A0B0C0D m0A0B0C0D0#00=0Bm1A0C0D m0A0B0C0D0#00=0B0C0Dm3A k0A0A0#000#000#00=k5A1B0C0D k0A0A0#000#000#00=0Ck5A1B0D k0A0A0#000#000#00=0C0Dk7A3B a0D0A0B0C0D=0A0B0Ca0D ".replace(/[ABCD]/g,"#X5");k[1]+="m0A0B0C0D0#00=m1A0B0C0D m0A0B0C0D0#00=0Bm1A0C0D m0A0B0C0D0#00=0B0C0Dm3A k0A0A0#000#000#00=k5A1B0C0D k0A0A0#000#000#00=0Ck5A1B0D k0A0A0#000#000#00=0C0Dk7A3B a0D0A0B0C0D=0A0B0Ca0D ".replace(/[D]/g,
"#5X").replace(/[ABC]/g,"#X5");k[2]+="m0A0B0C0D0#00=m1A0B0C0D m0A0B0C0D0#00=0Bm1A0C0D m0A0B0C0D0#00=0B0C0Dm3A k0A0A0#000#000#00=k5A1B0C0D k0A0A0#000#000#00=0Ck5A1B0D k0A0A0#000#000#00=0C0Dk7A3B a0D0A0B0C0D=0A0B0Ca0D ".replace(/[DC]/g,"#5X").replace(/[AB]/g,"#X5");k[3]+="m0A0B0C0D0#00=m1A0B0C0D m0A0B0C0D0#00=0Bm1A0C0D m0A0B0C0D0#00=0B0C0Dm3A k0A0A0#000#000#00=k5A1B0C0D k0A0A0#000#000#00=0Ck5A1B0D k0A0A0#000#000#00=0C0Dk7A3B a0D0A0B0C0D=0A0B0Ca0D ".replace(/[DCB]/g,"#5X").replace(/[A]/g,"#X5");k[1]+=
"m0A0B0C0D0#00=m1A0B0C0D m0A0B0C0D0#00=0Bm1A0C0D m0A0B0C0D0#00=0B0C0Dm3A k0A0A0#000#000#00=k5A1B0C0D k0A0A0#000#000#00=0Ck5A1B0D k0A0A0#000#000#00=0C0Dk7A3B ".replace(/[A]/g,"#5X").replace(/[BCD]/g,"#X5");k[2]+="m0A0B0C0D0#00=m1A0B0C0D m0A0B0C0D0#00=0Bm1A0C0D m0A0B0C0D0#00=0B0C0Dm3A k0A0A0#000#000#00=k5A1B0C0D k0A0A0#000#000#00=0Ck5A1B0D k0A0A0#000#000#00=0C0Dk7A3B ".replace(/[AD]/g,"#5X").replace(/[BC]/g,"#X5");k[3]+="m0A0B0C0D0#00=m1A0B0C0D m0A0B0C0D0#00=0Bm1A0C0D m0A0B0C0D0#00=0B0C0Dm3A k0A0A0#000#000#00=k5A1B0C0D k0A0A0#000#000#00=0Ck5A1B0D k0A0A0#000#000#00=0C0Dk7A3B ".replace(/[ADC]/g,
"#5X").replace(/[B]/g,"#X5");k[4]+="m0A0B0C0D0#00=m1A0B0C0D m0A0B0C0D0#00=0Bm1A0C0D m0A0B0C0D0#00=0B0C0Dm3A k0A0A0#000#000#00=k5A1B0C0D k0A0A0#000#000#00=0Ck5A1B0D k0A0A0#000#000#00=0C0Dk7A3B a0D0A0B0C0D=0A0B0Ca0D ".replace(/[ADCB]/g,"#5X");k[1]+="k0A0A0#000#000#00=k5A1B0C0D k0A0A0#000#000#00=0Ck5A1B0D k0A0A0#000#000#00=0C0Dk7A3B ".replace(/[B]/g,"#5X").replace(/[DCA]/g,"#X5");k[2]+="k0A0A0#000#000#00=k5A1B0C0D k0A0A0#000#000#00=0Ck5A1B0D k0A0A0#000#000#00=0C0Dk7A3B ".replace(/[BA]/g,"#5X").replace(/[DC]/g,
"#X5");k[2]+="k0A0A0#000#000#00=k5A1B0C0D k0A0A0#000#000#00=0Ck5A1B0D k0A0A0#000#000#00=0C0Dk7A3B ".replace(/[BD]/g,"#5X").replace(/[CA]/g,"#X5");k[3]+="k0A0A0#000#000#00=k5A1B0C0D k0A0A0#000#000#00=0Ck5A1B0D k0A0A0#000#000#00=0C0Dk7A3B ".replace(/[BAD]/g,"#5X").replace(/[C]/g,"#X5");for(var l="",t="",s="",f=0;7>f;++f)if(2>f||4<f)l+="c0A0B0C0#000#00=c1A0B0C c0B0A0C0#000#00=c1B0A0C c0C0A0B0#000#00=c1C0A0B ".replace(/A/g,"#X"+(f+1)).replace(/B/g,"#X"+(f+2)).replace(/C/g,"#X"+(f+3));t+="c0A0B0C0#000#00=c1A0B0C c0B0A0C0#000#00=c1B0A0C c0C0A0B0#000#00=c1C0A0B ".replace(/A/g,
"#X3").replace(/B/g,"#X4").replace(/C/g,"#X5");t+="c0A0B0C0#000#00=c1A0B0C c0B0A0C0#000#00=c1B0A0C c0C0A0B0#000#00=c1C0A0B ".replace(/A/g,"#X4").replace(/B/g,"#X5").replace(/C/g,"#X6");t+="c0A0B0C0#000#00=c1A0B0C c0B0A0C0#000#00=c1B0A0C c0C0A0B0#000#00=c1C0A0B ".replace(/A/g,"#X5").replace(/B/g,"#X6").replace(/C/g,"#X7");s+="c0A0B0C0#000#00=c1A0B0C c0B0A0C0#000#00=c1B0A0C c0C0A0B0#000#00=c1C0A0B ".replace(/A/g,"#X3").replace(/B/g,"#X4").replace(/C/g,"#5X");s+="c0A0B0C0#000#00=c1A0B0C c0B0A0C0#000#00=c1B0A0C c0C0A0B0#000#00=c1C0A0B ".replace(/A/g,
"#X4").replace(/B/g,"#5X").replace(/C/g,"#X6");s+="c0A0B0C0#000#00=c1A0B0C c0B0A0C0#000#00=c1B0A0C c0C0A0B0#000#00=c1C0A0B ".replace(/A/g,"#5X").replace(/B/g,"#X6").replace(/C/g,"#X7");g=g||0;c+=(a+d[g+0]+d[g+1]+n+k[g]+l+(4!=g?t:"")+(0!=g?s:"")).replace(/X/g,"1");g=b||0;c+=(a+d[g+0]+d[g+1]+n+k[g]+l+(4!=g?t:"")+(0!=g?s:"")).replace(/X/g,"2");g=e||0;c+=(a+d[g+0]+d[g+1]+n+k[g]+l+(4!=g?t:"")+(0!=g?s:"")).replace(/X/g,"3");c+=(a+d[1]+k[0]).replace(/X/g,"4");c=c.split(" ");c.pop();b={};e={};for(f=0;f<c.length;++f)a=
c[f].replace(/\d#(\d\d)/g,"$1"),g=a.substr(0,3),a=a.substr(12),b[g]?b[g].push(a):b[g]=[a],e[a]=c[f];C.w=b;C.D=e}}}}(),fa=[-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,0,1,2,3,4,5,6,7,8,-2,9,10,11,12,13,14,15,16,17,-2,18,19,20,21,22,23,24,25,26,-2,27,28,29,30,31,32,33,-2,-2,-2,4,13,22,-2,-2,-2,-2,-2,-2,-1,-1,-1,-1,-1,-1,-1,-1,-2,-1,-1,-1,-1,-1,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-1,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2],E=function(){function h(c,a){return'<img src="http://r.tenhou.net/5/img/blank.png" width='+
c+" height="+a+"/>"}function g(c,a,d){if(0===a)return"http://r.tenhou.net/5/img/blank.png";0==d&&2<a.length&&(a=a.match(/[pmkacrf](\d\d)/)[1]>>0);return"http://r.tenhou.net/5/img/edit"+("00"+~~(c*ca)).slice(-3)+d+a+".png"}var b=/img([^ ]+)/,e=!1;return{Q:function(c){return c.sort(function(a,c){return 100*fa[a]+a-(100*fa[c]+c)})},J:function(c){c=b.exec(c)[1];return 2==c.length?c>>0:c},set:function(c,a,d){c.src=g(a,d,0);c.className=c.className.replace(b,"img"+d)},N:function(c){return null!=b.exec(c.className)},
l:function(c,a,d,b){var k=d>>2,f=c,h=~~(f*(2==k?1:4)/3);if(d&1)var t=f,f=h,h=t;0===a&&2!=k&&(a=69);t="<img";e||(t+=' class="img'+a+(b?" "+b:"")+'"');t+=' src="'+g(c,a,d%4)+'"';t=t+(" width="+f)+(" height="+h);1==k&&(t+=' style="position:absolute;"');return t+="/>"},R:function(c,a){return void 0===a.length?E.l(c,a,0):3===a.length?E.l(c,a.substr(1)>>0,0):h(3,2*c)+C.D[a].substr(22).replace(/[pmkac]?(\d)#(\d\d)/g,function(a,e,k){return E.l(c,k,e)})+h(3,2*c)},A:function(c,a,d){e=!0;var b="",k=a.length;
2==k%3&&(k-=1);for(var f=0;f<k;++f)b+=E.l(c,a[f],0);f<a.length&&(b+=h(1,2*c)+E.l(c,a[f],0));b+=h(5,2*c);for(f=d.length-1;0<=f;--f)b+=E.R(c,d[f]);e=!1;return b}}}(),G=function(){function h(c,a){for(var d="<option></option>",e=[18,8,20][a],b=1;b<=e;++b)d+="<option>"+c+"("+b+"\u98dc)</option>";if(a)for(b=1;b<=e;++b)d+="<option>"+c+"("+b+"\u98dc"+b+"\u679a)</option>";if(a)for(b=1;b<=e;++b)d+="<option>"+c+"("+b+"\u679a)</option>";return d}function g(c){for(var a=0,b="";a<arguments.length;++a)b+="<option>"+
arguments[a]+"</option>";return b}var b=[""];for(i=1;16>=i;++i)b.push(i+"\u679a\u2200");var b=g.apply(b,b),e=[""];for(i=1;16>=i;++i)e.push(i+"\u679a");e=g.apply(e,e);return{W:function(){return g("","20\u7b262\u98dc400-700\u70b9","20\u7b263\u98dc700-1300\u70b9","20\u7b264\u98dc1300-2600\u70b9","25\u7b262\u98dc400-800\u70b9","25\u7b263\u98dc800-1600\u70b9","25\u7b264\u98dc1600-3200\u70b9","30\u7b261\u98dc300-500\u70b9","30\u7b262\u98dc500-1000\u70b9","30\u7b263\u98dc1000-2000\u70b9","30\u7b264\u98dc2000-3900\u70b9",
"40\u7b261\u98dc400-700\u70b9","40\u7b262\u98dc700-1300\u70b9","40\u7b263\u98dc1300-2600\u70b9","\u6e80\u8cab2000-4000\u70b9","\u8df3\u6e803000-6000\u70b9","\u500d\u6e804000-8000\u70b9","50\u7b261\u98dc400-800\u70b9","50\u7b262\u98dc800-1600\u70b9","50\u7b263\u98dc1600-3200\u70b9","60\u7b261\u98dc500-1000\u70b9","60\u7b262\u98dc1000-2000\u70b9","60\u7b263\u98dc2000-3900\u70b9","70\u7b261\u98dc600-1200\u70b9","70\u7b262\u98dc1200-2300\u70b9","80\u7b261\u98dc700-1300\u70b9","80\u7b262\u98dc1300-2600\u70b9",
"90\u7b261\u98dc800-1500\u70b9","90\u7b262\u98dc1500-2900\u70b9","100\u7b261\u98dc800-1600\u70b9","100\u7b262\u98dc1600-3200\u70b9","110\u7b261\u98dc900-1800\u70b9","110\u7b262\u98dc1800-3600\u70b9","\u4e09\u500d\u6e806000-12000\u70b9","\u5f79\u6e808000-16000\u70b9","\u5f79\u6e8016000-32000\u70b9","\u5f79\u6e8024000-48000\u70b9","\u56db\u500d\u6e808000-16000\u70b9","\u4e94\u500d\u6e8010000-20000\u70b9")},X:function(){return g("","20\u7b262\u98dc700\u70b9\u2200","20\u7b263\u98dc1300\u70b9\u2200","20\u7b264\u98dc2600\u70b9\u2200",
"25\u7b262\u98dc800\u70b9\u2200","25\u7b263\u98dc1600\u70b9\u2200","25\u7b264\u98dc3200\u70b9\u2200","30\u7b261\u98dc500\u70b9\u2200","30\u7b262\u98dc1000\u70b9\u2200","30\u7b263\u98dc2000\u70b9\u2200","30\u7b264\u98dc3900\u70b9\u2200","40\u7b261\u98dc700\u70b9\u2200","40\u7b262\u98dc1300\u70b9\u2200","40\u7b263\u98dc2600\u70b9\u2200","\u6e80\u8cab4000\u70b9\u2200","\u8df3\u6e806000\u70b9\u2200","\u500d\u6e808000\u70b9\u2200","50\u7b261\u98dc800\u70b9\u2200","50\u7b262\u98dc1600\u70b9\u2200","50\u7b263\u98dc3200\u70b9\u2200",
"60\u7b261\u98dc1000\u70b9\u2200","60\u7b262\u98dc2000\u70b9\u2200","60\u7b263\u98dc3900\u70b9\u2200","70\u7b261\u98dc1200\u70b9\u2200","70\u7b262\u98dc2300\u70b9\u2200","80\u7b261\u98dc1300\u70b9\u2200","80\u7b262\u98dc2600\u70b9\u2200","90\u7b261\u98dc1500\u70b9\u2200","90\u7b262\u98dc2900\u70b9\u2200","100\u7b261\u98dc1600\u70b9\u2200","100\u7b262\u98dc3200\u70b9\u2200","110\u7b261\u98dc1800\u70b9\u2200","110\u7b262\u98dc3600\u70b9\u2200","\u4e09\u500d\u6e8012000\u70b9\u2200","\u5f79\u6e8016000\u70b9\u2200",
"\u5f79\u6e8032000\u70b9\u2200","\u5f79\u6e8048000\u70b9\u2200","\u56db\u500d\u6e8016000\u70b9\u2200","\u4e94\u500d\u6e8020000\u70b9\u2200")},T:function(){return g("","25\u7b262\u98dc1600\u70b9","25\u7b263\u98dc3200\u70b9","25\u7b264\u98dc6400\u70b9","30\u7b261\u98dc1000\u70b9","30\u7b262\u98dc2000\u70b9","30\u7b263\u98dc3900\u70b9","30\u7b264\u98dc7700\u70b9","40\u7b261\u98dc1300\u70b9","40\u7b262\u98dc2600\u70b9","40\u7b263\u98dc5200\u70b9","\u6e80\u8cab8000\u70b9","\u8df3\u6e8012000\u70b9","\u500d\u6e8016000\u70b9",
"50\u7b261\u98dc1600\u70b9","50\u7b262\u98dc3200\u70b9","50\u7b263\u98dc6400\u70b9","60\u7b261\u98dc2000\u70b9","60\u7b262\u98dc3900\u70b9","60\u7b263\u98dc7700\u70b9","70\u7b261\u98dc2300\u70b9","70\u7b262\u98dc4500\u70b9","80\u7b261\u98dc2600\u70b9","80\u7b262\u98dc5200\u70b9","90\u7b261\u98dc2900\u70b9","90\u7b261\u98dc5800\u70b9","100\u7b261\u98dc3200\u70b9","100\u7b262\u98dc6400\u70b9","110\u7b261\u98dc3600\u70b9","110\u7b262\u98dc7100\u70b9","\u4e09\u500d\u6e8024000\u70b9","\u5f79\u6e8032000\u70b9",
"\u5f79\u6e8064000\u70b9","\u5f79\u6e8096000\u70b9","\u56db\u500d\u6e8032000\u70b9","\u4e94\u500d\u6e8040000\u70b9")},U:function(){return g("","25\u7b262\u98dc2400\u70b9","25\u7b263\u98dc4800\u70b9","25\u7b264\u98dc9600\u70b9","30\u7b261\u98dc1500\u70b9","30\u7b262\u98dc2900\u70b9","30\u7b263\u98dc5800\u70b9","30\u7b264\u98dc11600\u70b9","40\u7b261\u98dc2000\u70b9","40\u7b262\u98dc3900\u70b9","40\u7b263\u98dc7700\u70b9","\u6e80\u8cab12000\u70b9","\u8df3\u6e8018000\u70b9","\u500d\u6e8024000\u70b9",
"50\u7b261\u98dc2400\u70b9","50\u7b262\u98dc4800\u70b9","50\u7b263\u98dc9600\u70b9","60\u7b261\u98dc2900\u70b9","60\u7b262\u98dc5800\u70b9","60\u7b263\u98dc11600\u70b9","70\u7b261\u98dc3400\u70b9","70\u7b262\u98dc6800\u70b9","80\u7b261\u98dc3900\u70b9","80\u7b262\u98dc7700\u70b9","90\u7b261\u98dc4400\u70b9","90\u7b262\u98dc8700\u70b9","100\u7b261\u98dc4800\u70b9","100\u7b262\u98dc9600\u70b9","110\u7b261\u98dc5300\u70b9","110\u7b262\u98dc10600\u70b9","\u4e09\u500d\u6e8036000\u70b9","\u5f79\u6e8048000\u70b9",
"\u5f79\u6e8096000\u70b9","\u5f79\u6e80144000\u70b9","\u56db\u500d\u6e8048000\u70b9","\u4e94\u500d\u6e8060000\u70b9")},Y:b,V:e,g:function(){return g("","\u9580\u524d\u6e05\u81ea\u6478\u548c(1\u98dc)","\u7acb\u76f4(1\u98dc)","\u4e00\u767a(1\u98dc)","\u4e00\u767a(1\u98dc1\u679a)","\u4e00\u767a(1\u679a)","\u69cd\u69d3(1\u98dc)","\u5dba\u4e0a\u958b\u82b1(1\u98dc)","\u6d77\u5e95\u6478\u6708(1\u98dc)","\u6cb3\u5e95\u6488\u9b5a(1\u98dc)","\u5e73\u548c(1\u98dc)","\u65ad\u5e7a\u4e5d(1\u98dc)","\u4e00\u76c3\u53e3(1\u98dc)",
"\u81ea\u98a8 \u6771(1\u98dc)","\u81ea\u98a8 \u5357(1\u98dc)","\u81ea\u98a8 \u897f(1\u98dc)","\u81ea\u98a8 \u5317(1\u98dc)","\u5834\u98a8 \u6771(1\u98dc)","\u5834\u98a8 \u5357(1\u98dc)","\u5834\u98a8 \u897f(1\u98dc)","\u5834\u98a8 \u5317(1\u98dc)","\u5f79\u724c \u767d(1\u98dc)","\u5f79\u724c \u767c(1\u98dc)","\u5f79\u724c \u4e2d(1\u98dc)","\u4e21\u7acb\u76f4(2\u98dc)","\u4e03\u5bfe\u5b50(1\u98dc)","\u4e03\u5bfe\u5b50(2\u98dc)","\u6df7\u5168\u5e2f\u5e7a\u4e5d(1\u98dc)","\u6df7\u5168\u5e2f\u5e7a\u4e5d(2\u98dc)",
"\u4e00\u6c17\u901a\u8cab(1\u98dc)","\u4e00\u6c17\u901a\u8cab(2\u98dc)","\u4e09\u8272\u540c\u9806(1\u98dc)","\u4e09\u8272\u540c\u9806(2\u98dc)","\u4e09\u8272\u540c\u523b(2\u98dc)","\u4e09\u69d3\u5b50(2\u98dc)","\u5bfe\u3005\u548c(2\u98dc)","\u4e09\u6697\u523b(2\u98dc)","\u5c0f\u4e09\u5143(2\u98dc)","\u6df7\u8001\u982d(2\u98dc)","\u4e8c\u76c3\u53e3(3\u98dc)","\u7d14\u5168\u5e2f\u5e7a\u4e5d(2\u98dc)","\u7d14\u5168\u5e2f\u5e7a\u4e5d(3\u98dc)","\u6df7\u4e00\u8272(2\u98dc)","\u6df7\u4e00\u8272(3\u98dc)",
"\u6e05\u4e00\u8272(5\u98dc)","\u6e05\u4e00\u8272(6\u98dc)","\u5929\u548c(\u5f79\u6e80)","\u5730\u548c(\u5f79\u6e80)","\u5927\u4e09\u5143(\u5f79\u6e80)","\u56db\u6697\u523b(\u5f79\u6e80)","\u56db\u6697\u523b\u5358\u9a0e(\u5f79\u6e80)","\u5b57\u4e00\u8272(\u5f79\u6e80)","\u7dd1\u4e00\u8272(\u5f79\u6e80)","\u6e05\u8001\u982d(\u5f79\u6e80)","\u4e5d\u84ee\u5b9d\u71c8(\u5f79\u6e80)","\u7d14\u6b63\u4e5d\u84ee\u5b9d\u71c8(\u5f79\u6e80)","\u56fd\u58eb\u7121\u53cc(\u5f79\u6e80)","\u56fd\u58eb\u7121\u53cc\uff11\uff13\u9762(\u5f79\u6e80)",
"\u5927\u56db\u559c(\u5f79\u6e80)","\u5c0f\u56db\u559c(\u5f79\u6e80)","\u56db\u69d3\u5b50(\u5f79\u6e80)","\u5929\u548c(\u5f79\u6e805\u679a)","\u5730\u548c(\u5f79\u6e805\u679a)","\u5927\u4e09\u5143(\u5f79\u6e805\u679a)","\u56db\u6697\u523b(\u5f79\u6e805\u679a)","\u56db\u6697\u523b\u5358\u9a0e(\u5f79\u6e805\u679a)","\u5b57\u4e00\u8272(\u5f79\u6e805\u679a)","\u7dd1\u4e00\u8272(\u5f79\u6e805\u679a)","\u6e05\u8001\u982d(\u5f79\u6e805\u679a)","\u4e5d\u84ee\u5b9d\u71c8(\u5f79\u6e805\u679a)","\u7d14\u6b63\u4e5d\u84ee\u5b9d\u71c8(\u5f79\u6e805\u679a)",
"\u56fd\u58eb\u7121\u53cc(\u5f79\u6e805\u679a)","\u56fd\u58eb\u7121\u53cc\uff11\uff13\u9762(\u5f79\u6e805\u679a)","\u5927\u56db\u559c(\u5f79\u6e805\u679a)","\u5c0f\u56db\u559c(\u5f79\u6e805\u679a)","\u56db\u69d3\u5b50(\u5f79\u6e805\u679a)","\u5929\u548c(\u5f79\u6e8010\u679a)","\u5730\u548c(\u5f79\u6e8010\u679a)","\u5927\u4e09\u5143(\u5f79\u6e8010\u679a)","\u56db\u6697\u523b(\u5f79\u6e8010\u679a)","\u56db\u6697\u523b\u5358\u9a0e(\u5f79\u6e8010\u679a)","\u5b57\u4e00\u8272(\u5f79\u6e8010\u679a)","\u7dd1\u4e00\u8272(\u5f79\u6e8010\u679a)",
"\u6e05\u8001\u982d(\u5f79\u6e8010\u679a)","\u4e5d\u84ee\u5b9d\u71c8(\u5f79\u6e8010\u679a)","\u7d14\u6b63\u4e5d\u84ee\u5b9d\u71c8(\u5f79\u6e8010\u679a)","\u56fd\u58eb\u7121\u53cc(\u5f79\u6e8010\u679a)","\u56fd\u58eb\u7121\u53cc\uff11\uff13\u9762(\u5f79\u6e8010\u679a)","\u5927\u56db\u559c(\u5f79\u6e8010\u679a)","\u5c0f\u56db\u559c(\u5f79\u6e8010\u679a)","\u56db\u69d3\u5b50(\u5f79\u6e8010\u679a)")},Z:h("\u30c9\u30e9",0),$:h("\u8d64\u30c9\u30e9",1),aa:h("\u88cf\u30c9\u30e9",2)}}();var J=!1,K=function(){var h="";window.location.hash&&(h+="&"+window.location.hash.substr(1));window.location.search&&(h+="&"+window.location.search.substr(1));for(var g={},h=h.match(/&([^=]+)=([^&]*)/g)||[],b=0;b<h.length;++b){var e=h[b].indexOf("=");g[h[b].substr(1,e-1)]=h[b].substr(e+1)}g.j=arguments.callee;return K=g}(),L=function(){function h(){b=void 0;for(var e in g)g[e](),delete g[e]}var g={},b=void 0;return{call:function(e,c,a){a?(delete g[e],c()):g[e]=c;void 0===b&&(b=setTimeout(h,1))}}}();
m.write('<style type="text/css">A:link{color:blue;}A:visited{color:blue;}A:hover{color:red;}BODY{margin:0px;background-color:#CCC;-webkit-text-size-adjust:none;}FORM{margin:0px;padding:0px;}HR{border:1px solid #CCC;border-bottom:0px none #CCC;}INPUT,SELECT,BUTTON{font-size:100%;}INPUT,SELECT,TEXTAREA{background-color:#F5F5F5;border:0px none #000;resize:none;}INPUT,SELECT{margin:1px 0px;padding-left:0px;padding-right:0px;}TEXTAREA,BUTTON{margin:0px;}TEXTAREA{word-break:break-all;}SELECT{border-radius:4px;border:1px solid #000;}BUTTON{-webkit-appearance:none;border-radius:4px;border:1px solid #888;background:-moz-linear-gradient(top,#FFF 0%,#DDD);background:-webkit-gradient(linear, left top, left bottom, from(#FFF), to(#DDD));}BUTTON:active{background:-moz-linear-gradient(top,#DDD 0%,#FFF);background:-webkit-gradient(linear, left top, left bottom, from(#DDD), to(#FFF));}BUTTON[disabled]{-webkit-appearance:none;border-radius:4px;border:1px solid #888;background:#CCC;}.f100{font-size:36px;}.f075{font-size:27px;}BODY,.f050{font-size:18px;}.nowrap,.cells,cellc{white-space:nowrap;}.kaze{padding-right:8px;border-right:8px solid #CCC;}.oya1.kaze{border-right-color:#F00;}.forescapeios6inputbug{overflow:hidden;}</style>');
m.write('<style type="text/css">.img69{background-color:#F5F5F5;}.err,.err4,.err5,.err6,.errf,.errc{background-color:#FCC;}.clickready{}.disabled{}.editing{z-index:2;position:relative;background-color:#FFF;}.displaynone{display:none;}.w100{width:100%;}</style>');m.write('<div id=main></div><div style="text-align:center;margin:40px 0px 200px; 0px;"><small>TENHOU LOG EDITOR / &copy; C-EGG</small></div>');
var M=function(){function h(b,e){b=b.getElementsByTagName("IMG");for(var c=0;c<b.length;++c)this[c]=b[c],13<c&&(this[c].style.display="none");this.length=b.length;this.b=[];this.S=e;this.i={}}var g={p:70,m:71,k:71,a:71,c:72,r:73,f:74};h.prototype.set=function(b,e){for(var c=this.b;c.length<=b;)c.push(0);var a=c[b]!==e;c[b]=e;E.set(this[b],36,0===e?69:e);for(this.S&&E.set(this.S[b],36,2<e.length?g[e.match(/[pmkacfr]/)[0]]:0);c.length&&0===c[c.length-1];)c.pop();return a};h.prototype.o=function(b){for(var e=
b.length<this.length?b.length:this.length,c=!1,a=0;a<e;++a)this.b[a]!==b[a]&&(c|=this.set(a,b[a]));for(;a<this.b.length;++a)0!==this.b[a]&&(c|=this.set(a,0));return c};h.prototype.fa=function(b){var e="";this[b].classList.contains("err4")&&(e+="\u203b\u6700\u5927\u679a\u6570(\uff14\u679a)\u3092\u8d85\u3048\u3066\u3044\u307e\u3059<br>");this[b].classList.contains("err5")&&(e+="\u203b\u8d64\u724c\u306e\u6700\u5927\u679a\u6570\u3092\u8d85\u3048\u3066\u3044\u307e\u3059<br>");this[b].classList.contains("err6")&&
(e+="\u203b\u975e\u8d64\u724c\u306e\u6700\u5927\u679a\u6570\u3092\u8d85\u3048\u3066\u3044\u307e\u3059<br>");this[b].classList.contains("errf")&&(e+="\u203b\u526f\u9732\u724c(\u65b9\u5411)\u304c\u76f4\u524d\u306e\u6253\u724c(\u5bb6)\u3068\u4e00\u81f4\u3057\u307e\u305b\u3093<br>");this[b].classList.contains("errc")&&(e+="\u203b\u9032\u884c\u304c\u4ed6\u5bb6\u3068\u4e00\u81f4\u3057\u307e\u305b\u3093<br>");this.i[b]&&(e+=this.i[b]);return e};return{O:0,e:[!1,!1,!1,!1],result:["\u4e0d\u660e"],j:function(b){for(var e=
0;e<b.length;++e)if(5!=(e-2)%6){for(var c=2>e?0:(e-2)%6,a=2>e?5:c?28:13,d="",g=0;g<a;++g)d+=E.l(36,0,c&1?8:0,"yx"+(10>e?"0":"")+e+(10>g?"0":"")+g+(c&1?"":" clickready"));b[e].innerHTML=d;M[e]=new h(b[e],2==c||4==c?M[e-1]:void 0)}M.length=b.length},ea:function(b,e){var c=Math.floor((e-2)/6);0>c||b<M[6*c+3].length-1&&b<M[6*c+4].length-1&&b<M[6*c+5].length-1&&b<M[6*c+6].length-1&&z("",M[6*c+3][b+1],M[6*c+4][b+1],M[6*c+5][b+1],M[6*c+6][b+1])},M:function(b){if(!(0>b)){var e=M[6*b+3],c=M[6*b+4],a=M[6*b+
5];b=M[6*b+6];for(var d=Math.max(13,e.b.length,c.b.length,a.b.length,b.b.length)+1,g=0;g<d;++g)z("",e[g],c[g],a[g],b[g]);for(;g<e.length;++g)z("none",e[g],c[g],a[g],b[g])}}}}(),P=function(){function h(a,f,c){var b=M[6*a+6].b[f];60==b&&(b=M[6*a+4].b[f]);return b==c||b=="r"+c}function g(a,f){b(M[6*f+3][a[f]]);b(M[6*f+4][a[f]]);b(M[6*f+5][a[f]]);b(M[6*f+6][a[f]])}function b(a){a=a.classList;for(var f=7;0<=f;--f)if(!(0<f)||a.contains("skip"+f)){a.remove("skip"+f);a.add("skip"+(f+1));break}}function e(a,
f){if(void 0===f.length)return c(a,f);if(3==f.length)return c(a,f.substr(1)>>0);var b=C.D[f];if(b){var b=[b.substr(7,2)>>0,b.substr(11,2)>>0,b.substr(15,2)>>0,b.substr(19,2)>>0],d=!0;b[0]&&(d&=c(a,b[0]));b[1]&&(d&=c(a,b[1]));b[2]&&(d&=c(a,b[2]));b[3]&&(d&=c(a,b[3]));return d}}function c(a,f,b){f=a.indexOf(f);if(-1==f)return!1;b?a.splice(f,1,b):a.splice(f,1);return!0}for(var a="",d=0;8>d;++d)a+=".skip"+d+"{margin-left:"+36*d+"px;}";m.write('<style type="text/css">'+a+".collapse .fin,.editing .fin{z-index:0;position:absolute;left:0px;top:0px;visibility:hidden;}.collapse .fin.fshow,.editing .fin.fshow{visibility:visible;}</style>");
var n=[[],[],[],[]];return{j:function(a){for(var f=0;4>f;++f)P[f]=a[6*f+7],P[f].innerHTML=E.A(36,[],[]),P[f].height=72,P[f].style.position="relative",P[f].classList.add("collapse"),P[f].previousSibling.style.width="27px"},I:function(a){var f=M[6*a+2],b=M[6*a+4],d=M[6*a+6];n[a]=[];u(f[0].parentNode.getElementsByClassName("err"),"err");f.i={};u(b[0].parentNode.getElementsByClassName("err"),"err");b.i={};u(d[0].parentNode.getElementsByClassName("err"),"err");d.i={};for(var g=0;g<f.length;++g)0===f.b[g]&&
(f[g].classList.add("err"),f.i[g]="\u203b\u7a7a\u6b04\u306f\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093");var f=f.b.concat(),h=!1,f=E.Q(f),I=[],W=!0,aa=Math.max(0,b.b.length,d.b.length),X=[];X.push('<div class="fin fin_">'+E.A(36,f,I)+"</div>");for(g=0;g<aa;++g){var F=b.b[g]||0,D=d.b[g]||0,H=2<F.length?F.match(/[pmc]/)[0]:0,O=2<D.length?D.match(/[karf]/)[0]:0;"r"==O&&(D=D.substr(1)>>0);var v=[];0===F&&0===D?v.push("\u203b\u7a7a\u5217\u306f\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093"):0===F&&0!==D?v.push("\u203b\u5165\u529b\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093"):
n[a][g]&4&&H?v.push("\u203b\u53d6\u724c(\u5dba\u4e0a)\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044"):"p"==H||"m"==H||"c"==H?(h&&v.push("\u203b\u30ea\u30fc\u30c1\u5f8c\u306b\u660e\u526f\u9732\u306f\u884c\u3048\u307e\u305b\u3093"),e(f,F)||v.push("\u203b\u660e\u526f\u9732\u724c\u304c\u624b\u724c\u306b\u5b58\u5728\u3057\u307e\u305b\u3093"),I.push(F),W=!1):0!==F&&(f.push(F),2!=f.length%3&&v.push("\u203b\u624b\u724c\u679a\u6570\u304c\u4e0d\u6b63\u3067\u3059"));v.length&&(b[g].classList.add("err"),
b.i[g]=v.join("<br>"));X.push('<div class="fin fin'+g+'">'+E.A(36,f,I)+"</div>");v=[];if(0===F&&0===D)v.push("\u203b\u7a7a\u5217\u306f\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093");else if("m"==H)0!==D&&v.push("\u203b\u660e\u69d3\u5f8c\u306f\u7a7a\u6b04\u306b\u3057\u3066\u304f\u3060\u3055\u3044");else if("a"==O||"f"==O)"p"!=H&&"c"!=H||v.push("\u203b\u660e\u526f\u9732\u76f4\u5f8c\u306b\u6697\u526f\u9732\u306f\u884c\u3048\u307e\u305b\u3093"),e(f,D)||v.push("\u203b\u6697\u526f\u9732\u724c\u304c\u624b\u724c\u306b\u5b58\u5728\u3057\u307e\u305b\u3093"),
I.push(D);else if("k"==O){var ma=D.replace(/k\d\d/,"p");e(f,D)?c(I,ma,D)||v.push("\u203b\u52a0\u69d3\u3059\u308b\u660e\u523b\u5b50\u304c\u5b58\u5728\u3057\u307e\u305b\u3093"):v.push("\u203b\u52a0\u69d3\u3059\u308b\u724c\u304c\u5b58\u5728\u3057\u307e\u305b\u3093")}else 0!==D&&(h&&60!=D&&v.push("\u203b\u30ea\u30fc\u30c1\u5f8c\u306f\u30c4\u30e2\u5207\u308a\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044"),c(f,60==D?F:D)||v.push("\u203b\u6253\u724c\u304c\u624b\u724c\u306b\u5b58\u5728\u3057\u307e\u305b\u3093"),
1!=f.length%3&&v.push("\u203b\u624b\u724c\u679a\u6570\u304c\u4e0d\u6b63\u3067\u3059"));"r"==O&&(W?h?v.push("\u203b\u30ea\u30fc\u30c1\u5f8c\u306b\u30ea\u30fc\u30c1\u5ba3\u8a00\u306f\u884c\u3048\u307e\u305b\u3093"):h=!0:v.push("\u203b\u660e\u526f\u9732\u5f8c\u306b\u30ea\u30fc\u30c1\u5ba3\u8a00\u306f\u884c\u3048\u307e\u305b\u3093"));2!=f.length%3&&E.Q(f);v.length&&(d[g].classList.add("err"),d.i[g]=v.join("<br>"));X.push('<div class="fin fin'+g+'_">'+E.A(36,f,I)+"</div>");n[a][g]|=0;switch(H||O){case "m":case "c":case "p":F=
F.indexOf(H)/2+1;"m"==H&&3<=F&&--F;n[a][g]|=F;break;case "r":n[a][g]|=8}switch(H||O){case "m":case "k":case "a":case "f":n[a][g+1]|=4}}P[a].innerHTML=X.join("");P[a].lastChild.classList.add("fshow")},u:function(){u(q("err4"),"err4");for(var a=[],f=0;60>f;++f)a[f]=0;for(var b=0;b<M.length;++b)if(f=(b-2)%6,!(1==f||2<f))for(var c=M[b].b,f=0;f<c.length;++f){var d=c[f];d&&void 0===d.length&&a[d]++}for(f=10;60>f;++f)4<a[f]&&r(q("img"+f),"err4");u(q("err5"),"err5");a[51]>p("aka51").selectedIndex&&r(q("img51"),
"err5");a[52]>p("aka52").selectedIndex&&r(q("img52"),"err5");a[53]>p("aka53").selectedIndex&&r(q("img53"),"err5");u(q("err6"),"err6");a[15]>4-p("aka51").selectedIndex&&r(q("img15"),"err6");a[25]>4-p("aka52").selectedIndex&&r(q("img25"),"err6");a[35]>4-p("aka53").selectedIndex&&r(q("img35"),"err6");u(q("errf"),"errf");for(f=0;8>f;++f)u(q("skip"+f),"skip"+f);a=[!1,!1,!1,!1];b=-1;f=[0,0,0,0];c=[0,0,0,0];for(d=p("kyoku").selectedIndex%4;;)if(-1!=b&&(a[b]=!0,b=-1),n[d][f[d]]&8&&(b=d),++f[d],++c[d],n[d][f[d]]&
4)c[(d+1)%4]<c[d]+((d+1)%4<d)&&(g(f,(d+1)%4),++c[(d+1)%4]),c[(d+2)%4]<c[d]+((d+2)%4<d)&&(g(f,(d+2)%4),++c[(d+2)%4]),c[(d+3)%4]<c[d]+((d+3)%4<d)&&(g(f,(d+3)%4),++c[(d+3)%4]);else{var e;if((e=(d+3)%4,3===n[e][f[e]]&&h(d,f[d]-1,M[6*e+4].b[f[e]].match(/[pmc]\d\d/)[0].substr(1)))||(e=(d+2)%4,2===n[e][f[e]]&&h(d,f[d]-1,M[6*e+4].b[f[e]].match(/[pmc]\d\d/)[0].substr(1)))||(e=(d+1)%4,1===n[e][f[e]]&&h(d,f[d]-1,M[6*e+4].b[f[e]].match(/[pmc]\d\d/)[0].substr(1))))2<=n[e][f[e]]&&c[(d+1)%4]<c[e]+((d+1)%4<e)&&(g(f,
(d+1)%4),++c[(d+1)%4]),3<=n[e][f[e]]&&c[(d+2)%4]<c[e]+((d+2)%4<e)&&(g(f,(d+2)%4),++c[(d+2)%4]),d=e;else if(e=(d+1)%(J?3:4),void 0!==n[e][f[e]]&&0===(n[e][f[e]]&3))d=e;else break}M.e[0]===a[0]&&M.e[1]===a[1]&&M.e[2]===a[2]&&M.e[3]===a[3]||L.call("CompileResult",Q);M.e=a;M.O=d;u(q("errc"),"errc");if(n[0].length&&n[1].length&&n[2].length&&(J||n[3].length))for(e=0;4>e;++e)for(;f[e]<n[e].length;++f[e])M[6*e+4][f[e]].classList.add("errc"),M[6*e+6][f[e]].classList.add("errc")},h:function(a,d){var b=Math.floor((d-
2)/6);if(!(0>b)){u(q("fshow"),"fshow");d=2>d?0:(d-2)%6;var c="fin";0==d?c+="_":2==d?c+=a:4==d&&(c+=a+"_");c=P[b].getElementsByClassName(c);(c.length?c[0]:P[b].lastChild).classList.add("fshow")}},da:function(){u(q("fshow"),"fshow");for(var a=0;4>a;++a)P[a].lastChild.classList.add("fshow")}}}(),T=function(){function h(a,d){for(var b=0,c=a;c.previousSibling;c=c.previousSibling)++b;a=a.parentNode.parentNode;if(0<d)for(;a&&d;--d)a=a.nextSibling;if(0>d)for(;a&&d;++d)a=a.previousSibling;if(a)for(a=a.firstChild.nextSibling.firstChild;b&&
a.nextSibling;--b)a=a.nextSibling;b&&(a=void 0);return a}function g(a){b&&(b.style.backgroundColor=a?"#CCC":"")}var b=void 0,e=0,c=0;setInterval(function(){b&&g(""==b.style.backgroundColor)},500);return{G:void 0,ga:function(){return 2>c?0:(c-2)%6},B:function(a){var d;d=a&&a.className?(d=a.className.match(/yx(\d\d\d\d)/))&&d.length?d[1]:-1:-1;if(a&&(-1==d||!a.classList.contains("clickready")))return!1;a||(R.ba(),M.M(Math.floor((c-2)/6)));e=d%100;c=~~(d/100);g(!1);b=a;g(!0);R.ha(-1==d?"":M[c].fa(e));
a&&R.h(0);a&&P.h(e,c);return!0},t:function(a){if(!b)return!1;S.n({path:"/log/0/"+(4+(2>c?c-2:3*Math.floor((c-2)/6)+Math.floor((c-2)%6/2)))+"/"+e,val:a});M.ea(e,c);T.F(1);return!0},F:function(a){if(!b)return!1;if(!T.G.checked){var d=2>c?0:(c-2)%6;if(2==d&&0<a)return T.d(40);if(4==d&&0<a&&b.nextSibling)return T.d(39)&&T.d(38);if(4==d&&0>a)return T.d(38);if(2==d&&0>a&&b.previousSibling)return T.d(37)&&T.d(40)}return T.d(0<a?39:37)},d:function(a){if(!b)return!1;var d=void 0;if(38==a)d=h(b,-2);else if(40==
a)d=h(b,2);else if(37==a){if(d=b.previousSibling,!d&&(d=h(b,-2)))for(;d&&d.nextSibling&&!d.nextSibling.style.display;)d=d.nextSibling}else 39==a&&(d=b.nextSibling,d&&!d.style.display||!(d=h(b,2))||(d=d.parentNode.firstChild));return d&&!d.style.display&&d!=b?(T.B(d),!0):!1}}}(),R=function(){function h(){for(var d=a.getElementsByClassName("pushed"),b=d.length?E.J(d[0].className):0,c=d.length-1;0<=c;--c)d[c].classList.remove("pushed");return b}function g(a,c){y&&(c=c.replace(/,?\d:/g,""));return'<table cellpadding=0 cellspacing=0 class="displaynone tp'+
a+'"><tr>'+c.replace(/(\d):/g,"<td class=btn$1>$1:</td>").replace(/#(\d\d)\-([^#,<]+)/g,'<td class="tbtn img$1 clickready">$2</td>').replace(/#[\d#]+/g,'<td style="font-size:0px;">$&</td>').replace(/#([12345]\d|60)/g,function(a,d){return E.l(b,d,0,"clickready")}).replace(/,/g,"<td width=6></td>")+"</tr></table>"}var b=y?48:18,e=y?32:18;m.write('<style type="text/css">#overlay{z-index:1;position:fixed;top:0px;left:0px;width:100%;height:100%;background-color:#000;opacity:0.75;pointer-events:none;}#overlay{padding:8px;color:#F00;font-weight:bold;}#panel{z-index:2;position:absolute;font-size:'+
~~(b/2)+"px;background-color:#FFF;padding:2px;border:4px solid #444;color:#888;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;}.tbtn{border:1px solid #CCC;height:"+~~(4*b/3-2)+"px;padding:0px "+~~(b/6)+"px 0px "+~~(b/6)+"px;}.tbtn.pushed{background-color:#000;color:#FFF;}"+"#0#2#4#10#20#30#40#52#54#99".replace(/#(\d+)/g,".sw$1 .tp$1,")+".sw2 .tp0,.sw4 .tp0{display:table;}</style>");var c=A("div",void 0,{id:"overlay"}),a=A("div",void 0,{id:"panel",innerHTML:"<div class=furo></div>"+
g(0,'1:#11#12#13#14#15#16#17#18#19#51,<td><table cellpadding=0 cellspacing=0><tr><td><input type=checkbox style="width:'+~~(0.8*b)+"px;height:"+~~(0.8*b)+'px;"></td><td>\u884c\u79fb\u52d5&nbsp;</td>,7:#07-&nbsp;&larr;&nbsp;,8:#08-&nbsp;&rarr;&nbsp;,9:#00-\u306a\u3057</tr></table></td></tr><tr>2:#21#22#23#24#25#26#27#28#29#52,</tr><tr>3:#31#32#33#34#35#36#37#38#39#53,<td><table cellpadding=0 cellspacing=0><tr>4:#41#42#43#44#45#46#47</tr></table></td>')+g(10,"1:#11,2:#12,3:#13,4:#14,5:#15,6:#16,7:#17,8:#18,9:#19,0:#51")+
g(20,"1:#21,2:#22,3:#23,4:#24,5:#25,6:#26,7:#27,8:#28,9:#29,0:#52")+g(30,"1:#31,2:#32,3:#33,4:#34,5:#35,6:#36,7:#37,8:#38,9:#39,0:#53")+g(40,"1:#41,2:#42,3:#43,4:#44,5:#45,6:#46,7:#47")+g(52,"1:#70-\u30dd\u30f3,2:#71-\u30ab\u30f3,3:#72-\u30c1\u30fc")+g(54,"1:#71-\u30ab\u30f3,2:#73-\u30ea\u30fc\u30c1")});a.getElementsByClassName("tp0")[0].firstChild.rows[1].insertCell(-1).innerHTML=g(2,"5:#70-\u30dd\u30f3#71-\u30ab\u30f3#72-\u30c1\u30fc")+g(4,"5:#71-\u30ab\u30f3#73-\u30ea\u30fc\u30c1,0:#60");T.G=a.getElementsByTagName("INPUT")[0];
ga(a,function(a){a=a.target;if(!a.classList.contains("clickready")&&(a=a.parentNode,!a.classList.contains("clickready")))return;R.s(a)});return{ca:function(d){d.classList.add("editing");d.parentNode.insertBefore(c,d);d.parentNode.insertBefore(a,d);R.h(0);R.P();var b=w();d.offsetTop<b&&window.scrollTo(0,d.offsetTop);b=a.offsetTop+a.offsetHeight-(window.innerHeight||m.documentElement.clientHeight||m.body.clientHeight);w()<b&&window.scrollTo(0,b)},ba:function(){var d=a.nextSibling;d&&(c.parentNode.removeChild(c),
a.parentNode.removeChild(a),d.classList.remove("editing"),P.da())},h:function(d){0==d&&h();if(0==d||50==d)d+=T.ga();50!=d&&(a.className="sw"+d,R.P())},ha:function(a){c.innerHTML=a},P:function(){a.style.left="0px";a.style.top="0px";var d=a.nextSibling,b;b=d;for(var c=0,e=0;b;b=b.offsetParent)e+=b.offsetTop||0,c+=b.offsetLeft||0;b=[c,e];b[0]+=~~((d.offsetWidth-a.offsetWidth)/2);b[0]=Math.min(b[0],m.body.offsetWidth-1-a.offsetWidth);a.style.left=(0<b[0]?b[0]:0)+"px";a.style.top=b[1]+d.offsetHeight+"px"},
C:function(b,c){var h=C.w[b+c];if(h){if("k"==b){var f=C.w["a"+c];f&&(h=h.concat(f),f=void 0);5==c%10&&(f=C.w["a5"+~~(c/10)]);f&&(h=h.concat(f))}for(var f="",l=0;l<h.length;++l)l&&(f+=4<h.length&&3==l?"</tr><tr>":"<td width=20></td>"),f+=l+1+':<td class="img'+h[l]+' clickready">'+E.R(e,h[l])+"</td>";a.getElementsByClassName("furo")[0].innerHTML=g(99,f);R.h(99)}},d:function(b){if(!a.parentNode)return!1;if(8==b||144==b)return!0;96<=b&&105>=b&&(b=b-96+48);var c=a.className.substr(2);if(1==c.length)switch(b){case 49:case 50:case 51:case 52:case 53:return R.h(10*
(b-48)),!0;case 55:return T.F(-1);case 56:return T.F(1);case 57:return T.t(0);case 48:if(4==c)return R.s(a.getElementsByClassName("img60")[0])}else if(48<=b&&58>b&&((c=a.getElementsByClassName("tp"+c)[0])&&(c=c.getElementsByClassName("btn"+(b-48))[0]),c)){c=c.nextSibling;if(E.N(c))return R.s(c);c=c.firstChild;if(E.N(c))return R.s(c)}console.log("key="+b);R.h(0);return!1},s:function(b){if(y){var c=b.getBoundingClientRect(),e=A("div",m.body,{},{zIndex:3,position:"absolute",left:(m.body.scrollLeft||
m.documentElement.scrollLeft)+c.left,top:w()+c.top,width:c.width,height:c.height,backgroundColor:"#000",opacity:0.5,pointerEvents:"none"});setTimeout(function(){e.parentNode.removeChild(e)},500)}var c=h(),f=E.J(b.className);7===f||8===f||0===f?(x(),R.d(48+(f?f:9)),da.set(function(){R.d(48+f%10)})):70===f||71===f||72===f||73===f||74===f?(R.h(0),f!=c&&r(a.getElementsByClassName("img"+f),"pushed")):70==c?R.C("p",f):71==c?R.C("sw2"==a.className?"m":"k",f):72==c?R.C("c",f):73==c?T.t("r"+f):74==c?T.t("f"+
f):T.t(f)}}}(),Q=function(){function h(b,c){return"<span class="+(0>b?"numm":0<b?"nump":"numz")+">"+(0>b?"":"+")+b+"</span>"+(c?"<span class=sub>/"+c+"</span>":"")}function g(b){return 1===b?0:2===b?1:4===b?2:8===b?3:-1}m.write('<style type="text/css">.sub{font-size:50%;}.nump{color:#00F;font-weight:bold;}.numz{color:#000;font-weight:bold;}.numm{color:#F00;font-weight:bold;}</style>');var b=-1;return function(){var e=p("kyoku").selectedIndex%4;if(e!=b){b=e;u(q("oya0"),"oya0");u(q("oya1"),"oya1");
for(var c=ea[J?0:1][e],e=q("kaze"),a=0;4>a;++a){var d=e[a];d.innerHTML=B(c[a])+"\u5bb6";d=d.parentNode;d.classList.add("oya"+(c[a]?0:1));d=d.nextSibling;d.classList.add("oya"+(c[a]?0:1))}}for(var n=q("restype"),a=0;4>a;++a)d=n[a],c=d.parentNode.parentNode.parentNode.parentNode.classList,c.remove("sel1"),c.remove("sel2"),1==d.selectedIndex&&c.add("sel1"),2==d.selectedIndex&&c.add("sel2");for(var e=n[0].options,n=[n[0].value,n[1].value,n[2].value,n[3].value],a={},k=0;k<e.length;++k){var c=e[k].value,
f=0;n[0]==c&&(f|=1);n[1]==c&&(f|=2);n[2]==c&&(f|=4);n[3]==c&&(f|=8);f&&(a[c]=f)}var e=p("kyoku").selectedIndex%4,l=["\u4e0d\u660e"],d=[0,0,0,0],t=[0,0,0,0];if(-1!=g(a["\u30c4\u30e2"])&&15==(a[""]^a["\u30c4\u30e2"])){if(a=g(a["\u30c4\u30e2"]),c=q("tsumo"+(a==e?1:0))[a].value){l=["\u548c\u4e86",[0,0,0,0],[a,a,a,c]];c=c.match(/(\d+00)(\-\d+00|)\u70b9/);l[1][0]=l[1][1]=l[1][2]=l[1][3]=-(c[1]>>0);a!=e&&(l[1][e]=c[2]>>0);l[1][a]=-(l[1][(a+1)%4]+l[1][(a+2)%4]+l[1][(a+3)%4]);var s=q("tsumoc")[a];s.selectedIndex&&
(l[2][3]+=s.value,s=s.selectedIndex,l[1].push(0,0,0,0),l[1][(a+0)%4+4]=3*s,l[1][(a+1)%4+4]=-s,l[1][(a+2)%4+4]=-s,l[1][(a+3)%4+4]=-s)}}else if(-1!=g(a["\u653e\u9283"])&&a["\u30ed\u30f3"]&&15==(a[""]^a["\u30ed\u30f3"]^a["\u653e\u9283"]))for(var N=g(a["\u653e\u9283"]),f=a["\u30ed\u30f3"],I=1;4>I;++I){if(a=(N+I)%4,!(~f&1<<a)&&(c=q("ron"+(a==e?1:0))[a].value)){l[0]="\u548c\u4e86";var s=k=[0,0,0,0],W=a,aa=c.match(/(\d+00)\u70b9/)[1];s[W]=aa>>0;k[N]=-k[a];s=q("ronc")[a];s.selectedIndex&&(c+=s.value,s=s.selectedIndex,
k.push(0,0,0,0),k[a+4]=s,k[N+4]=-s);l.push(k,[a,N,a,c])}}else if(15==a["\u8074\u724c"])l[0]="\u5168\u54e1\u8074\u724c";else if(15==a["\u4e0d\u8074"])l[0]="\u5168\u54e1\u4e0d\u8074";else if(15==(a["\u8074\u724c"]^a["\u4e0d\u8074"]))f=a["\u8074\u724c"],l=0,f&1&&++l,f&2&&++l,f&4&&++l,f&8&&++l,a=l,l=1===a?3E3:2===a?1500:3===a?1E3:0,l=["\u6d41\u5c40",[f&1?l:-l,f&2?l:-l,f&4?l:-l,f&8?l:-l]];else if(a["\u6d41\u3057\u6e80\u8cab"]&&15==(a[""]^a["\u6d41\u3057\u6e80\u8cab"]))for(l=["\u6d41\u3057\u6e80\u8cab",
[0,0,0,0]],f=a["\u6d41\u3057\u6e80\u8cab"],a=0;4>a;++a)~f&1<<a||(c=a==e?4E3:2E3,k=[-c,-c,-c,-c],a!=e&&(k[e]=2*-c),k[a]=-(k[(a+1)%4]+k[(a+2)%4]+k[(a+3)%4]),l[1][0]+=k[0],l[1][1]+=k[1],l[1][2]+=k[2],l[1][3]+=k[3]);else-1!=g(a["\u4e5d\u7a2e\u4e5d\u724c"])&&15==(a[""]^a["\u4e5d\u7a2e\u4e5d\u724c"])?l[0]="\u4e5d\u7a2e\u4e5d\u724c":-1!=g(a["\u4e09\u5bb6\u548c\u4e86"])&&15==(a[""]^a["\u4e09\u5bb6\u548c\u4e86"])?l[0]="\u4e09\u5bb6\u548c\u4e86":-1!=g(a["\u56db\u98a8\u9023\u6253"])&&15==(a[""]^a["\u56db\u98a8\u9023\u6253"])?
l[0]="\u56db\u98a8\u9023\u6253":-1!=g(a["\u56db\u5bb6\u7acb\u76f4"])&&15==(a[""]^a["\u56db\u5bb6\u7acb\u76f4"])?l[0]="\u56db\u5bb6\u7acb\u76f4":-1!=g(a["\u56db\u69d3\u6563\u4e86"])&&15==(a[""]^a["\u56db\u69d3\u6563\u4e86"])&&(l[0]="\u56db\u69d3\u6563\u4e86");"\u548c\u4e86"==l[0]&&(a=l[2][0],t[a]=1E3*p("kyoutaku").selectedIndex+(M.e[0]?1E3:0)+(M.e[1]?1E3:0)+(M.e[2]?1E3:0)+(M.e[3]?1E3:0),f=p("honba").selectedIndex,d[a]=300*f,N=l[2][1],a!=N?d[N]=300*-f:(d[(a+1)%4]=100*-f,d[(a+2)%4]=100*-f,d[(a+3)%4]=
100*-f));if("\u548c\u4e86"==l[0])for(k=2;k<l.length;k+=2){a=l[k][0];a=q("agari")[a];f=a.getElementsByClassName("yaku");c=a.getElementsByClassName("dora");for(a=0;a<f.length;++a)f[a].value&&l[k].push(f[a].value);for(a=0;a<c.length;++a)c[a].value&&l[k].push(c[a].value)}e=q("result");for(a=0;4>a;++a)s=k=0,1<l.length&&(k+=l[1][a],s+=8==l[1].length?l[1][a+4]:0),3<l.length&&(k+=l[3][a],s+=8==l[3].length?l[3][a+4]:0),5<l.length&&(k+=l[5][a],s+=8==l[5].length?l[5][a+4]:0),1<l.length&&(l[1][a]+=d[a]+t[a]),
f=[h(k,n[a]?n[a]:0>k?"\u652f\u6255":"\u306a\u3057"),h(d[a],"\u7a4d\u68d2"),h(t[a],"\u4f9b\u8a17"),h(M.e[a]?-1E3:0,"\u7acb\u76f4")],s&&f.push("|",h(s,"\u679a")),e[a].innerHTML=f.join("&nbsp;&nbsp;"),c=p("ten"+a).value,f=q("ten"+a),f[0].innerHTML=f[2].innerHTML=f[4].innerHTML=f[6].innerHTML=c,c=100*c+k+d[a]+t[a],M.e[a]&&(c-=1E3),f[1].innerHTML=f[3].innerHTML=f[5].innerHTML=f[7].innerHTML=c/100;M.result=l;console.log("CompileResult",JSON.stringify(l))}}();
function U(h,g){if(m.activeElement===h)return!1;var b=!1,e=h.options,c=0;if("number"==typeof g)c=g;else{for(c=0;c<e.length&&e[c].value!=g;++c);if(c==e.length)return console.log("selOPT failed",h,g),!1}b=!0!==e[c].selected;e[c].selected=!0;return b}
var Y=function(){function h(g,b){if(m.activeElement===g||g.value==b)return!1;g.value=b;return!1}return function(g,b,e){if(!g)return window.confirm("INVALID EMPTY JSON");try{g=JSON.parse(g)}catch(c){return alert(c)}V&&V();var a=g.title;a&&(h(p("title0"),a[0]),h(p("title1"),a[1]));if((a=g.name)&&4==a.length){if(K.log){var d=K.tw||-1,n;(n=a[0])&&"\u24c5"!=n[0]&&"\u24c8"!=n[0]&&(a[0]=0==d?"\u79c1":"A\u3055\u3093");(n=a[1])&&"\u24c5"!=n[0]&&"\u24c8"!=n[0]&&(a[1]=1==d?"\u79c1":"B\u3055\u3093");(n=a[2])&&
"\u24c5"!=n[0]&&"\u24c8"!=n[0]&&(a[2]=2==d?"\u79c1":"C\u3055\u3093");(n=a[3])&&"\u24c5"!=n[0]&&"\u24c8"!=n[0]&&(a[3]=3==d?"\u79c1":"D\u3055\u3093")}h(p("un0"),a[0]);h(p("un1"),a[1]);h(p("un2"),a[2]);h(p("un3"),a[3])}a=!1;if(d=g.rule){d.disp&&h(p("disp"),d.disp);n=~~d.aka51;var k=~~d.aka52,f=~~d.aka53;void 0!==d.aka&&(n=k=f=~~d.aka);n=p("aka51").options[n];k=p("aka52").options[k];f=p("aka53").options[f];n.selected||(a=!0,n.selected=!0);k.selected||(a=!0,k.selected=!0);f.selected||(a=!0,f.selected=
!0)}C.j(p("aka51").selectedIndex,p("aka52").selectedIndex,p("aka53").selectedIndex);if((g=g.log)&&g[b||0]){g=g[b||0];var k=p("kyoku").options[g[0][0]],f=p("honba").options[g[0][1]],l=p("kyoutaku").options[g[0][2]],d=!k.selected||!f.selected||!l.selected;n=!1;for(b=0;4>b;++b)n|=h(p("ten"+b),g[1][b]/100);k.selected||(a=!0);k.selected=!0;f.selected=!0;l.selected=!0;if(17==g.length){if(!e||g[2].length)a|=M[0].o(g[2]);if(!e||g[3].length)a|=M[1].o(g[3]);for(b=0;4>b;++b){k=!1;if(!e||g[3*b+4].length)k|=M[6*
b+2].o(g[3*b+4]);if(!e||g[3*b+5].length)k|=M[6*b+4].o(g[3*b+5]);if(!e||g[3*b+6].length)k|=M[6*b+6].o(g[3*b+6]);k&&(P.I(b),M.M(b));a|=k}a&&P.u();a=d|n;e=g[16];g=g[0][0]%4;d=q("restype");switch(e[0]){case "\u548c\u4e86":for(n=2;n<e.length;n+=2){k=e[n];b=k[0];f=k[1];a|=U(d[b],b==f?"\u30c4\u30e2":"\u30ed\u30f3");b!=f&&(a|=U(d[f],"\u653e\u9283"));f=b==f?"tsumo":"ron";k[3].match(/\d+\u679a\u2200?$/)?(l=RegExp.lastMatch,a|=U(q(f+(b==g?1:0))[b],RegExp.leftContext),a|=U(q(f+"c")[b],l)):(a|=U(q(f+(b==g?1:0))[b],
k[3]),a|=U(q(f+"c")[b],""));b=q("agari")[b];for(var f=b.getElementsByClassName("yaku"),l=0,t=[];l<f.length;++l)t.push(f[l]);f=t;b=b.getElementsByClassName("dora");for(l=4;l<k.length;++l)a="\u30c9\u30e9"==k[l].substr(0,2)?a|U(b[0],k[l]):"\u8d64\u30c9\u30e9"==k[l].substr(0,3)?a|U(b[1],k[l]):"\u88cf\u30c9\u30e9"==k[l].substr(0,3)?a|U(b[2],k[l]):a|U(f.shift(),k[l]);for(;f.length;)f.pop().options[0].selected=!0}break;case "\u6d41\u5c40":console.log(e);a|=U(d[0],0<e[1][0]?"\u8074\u724c":"\u4e0d\u8074");
a|=U(d[1],0<e[1][1]?"\u8074\u724c":"\u4e0d\u8074");a|=U(d[2],0<e[1][2]?"\u8074\u724c":"\u4e0d\u8074");a|=U(d[3],0<e[1][3]?"\u8074\u724c":"\u4e0d\u8074");break;case "\u5168\u54e1\u8074\u724c":a|=U(d[0],"\u8074\u724c");a|=U(d[1],"\u8074\u724c");a|=U(d[2],"\u8074\u724c");a|=U(d[3],"\u8074\u724c");break;case "\u5168\u54e1\u4e0d\u8074":a|=U(d[0],"\u4e0d\u8074");a|=U(d[1],"\u4e0d\u8074");a|=U(d[2],"\u4e0d\u8074");a|=U(d[3],"\u4e0d\u8074");break;case "\u6d41\u3057\u6e80\u8cab":0<e[1][0]&&(a|=U(d[0],"\u6d41\u3057\u6e80\u8cab"));
0<e[1][1]&&(a|=U(d[1],"\u6d41\u3057\u6e80\u8cab"));0<e[1][2]&&(a|=U(d[2],"\u6d41\u3057\u6e80\u8cab"));0<e[1][3]&&(a|=U(d[3],"\u6d41\u3057\u6e80\u8cab"));break;case "\u4e5d\u7a2e\u4e5d\u724c":case "\u4e09\u5bb6\u548c\u4e86":case "\u56db\u98a8\u9023\u6253":case "\u56db\u5bb6\u7acb\u76f4":case "\u56db\u69d3\u6563\u4e86":a|=U(d[M.O],e[0]);break;case "raw":for(n=0;80>n;++n)b=Math.floor(n/20),l=e[1+b][n%20]||0,a|=U(p("sel"+(n+6)),l)}a&&L.call("CompileResult",Q);a||console.log("JSONLoad modified=false")}}}}();
function Z(h){var g={title:[p("title0").value,p("title1").value],name:[p("un0").value,p("un1").value,p("un2").value,p("un3").value],rule:{disp:p("disp").value,aka51:p("aka51").selectedIndex,aka52:p("aka52").selectedIndex,aka53:p("aka53").selectedIndex},log:[[[p("kyoku").selectedIndex,p("honba").selectedIndex,p("kyoutaku").selectedIndex],[100*p("ten0").value,100*p("ten1").value,100*p("ten2").value,100*p("ten3").value],0,1,2,4,6,8,10,12,14,16,18,20,22,24,M.result]]},b=g.rule;b.disp||delete b.disp;b.aka51===
b.aka52&&b.aka52===b.aka53&&(b.aka=b.aka51,delete b.aka51,delete b.aka52,delete b.aka53);for(b=2;16>b;++b)g.log[0][b]=M[g.log[0][b]].b;g=JSON.stringify(g);h&&(g=S.K(g));return g}
var S=function(){var h=[],g=[],b=!1;return{v:function(){p("autosave").checked&&window.location.replace("#json="+Z(!0)+"&ts=0")},q:function(b,c,a){var d="mjlog_storage.cgi";b&&(d+="?"+b);b.match(/^load=(\d{8,10}gm\-[0-9a-f]{4}\-\d{4,5}\-x?[0-9a-f]{8,16})$/)&&(d="/5/mjlog2json.cgi?"+RegExp.$1);var g=new XMLHttpRequest;g.onreadystatechange=function(){4==g.readyState&&200==g.status&&a&&a(g.responseText)};g.open(void 0===c?"GET":"POST",d,!0);g.send(c)},H:function(){setTimeout(function(){var e=JSON.stringify(h);
h.splice(0,h.length);b=!0;S.q("","file="+K.sync+"&json="+encodeURIComponent(e),function(c){Y(c,0,!1);S.H();b=!1;L.call("storage.execPacket",S.L)})},3E3)},K:function(b){return encodeURIComponent(b).replace(/%2C/gi,",")},L:function(){if(!b)for(;g.length;){var e=g.shift(),c=ha[e.path],a=e.val;if(c){var d=p(c);if("ten0"==c||"ten1"==c||"ten2"==c||"ten3"==c)a/=100;"INPUT"==d.tagName?d.value!=a&&(d.value=a,d.onchange.apply(d)):"SELECT"==d.tagName&&d.selectedIndex!=a&&(d.options[a].selected=!0,d.onchange.apply(d))}c=
e.path.split("/");if("log"==c[1]&&0==c[2]&&2<=c[3]&&16>c[3]){e=~~c[3];c=~~c[4];d=!1;if(4>e)d|=M[e-2].set(c,a);else{var h=Math.floor((e-4)/3),e=2+6*h+(e-4)%3*2,k=!1;(k|=M[e].set(c,a))&&P.I(h);d|=k}d&&P.u()}}},n:function(b){K.sync&&h.push(b);g.push(b);L.call("storage.execPacket",S.L);K.sync||L.call("storage.autoSave",S.v)}}}(),$={title0:"/title/0",title1:"/title/1",disp:"/rule/disp",aka51:"/rule/aka51",aka52:"/rule/aka52",aka53:"/rule/aka53",un0:"/name/0",un1:"/name/1",un2:"/name/2",un3:"/name/3",kyoku:"/log/0/0/0",
honba:"/log/0/0/1",kyoutaku:"/log/0/0/2",ten0:"/log/0/1/0",ten1:"/log/0/1/1",ten2:"/log/0/1/2",ten3:"/log/0/1/3"},ha,ia={},ja;for(ja in $)ia[$[ja]]=ja;ha=ia;var V;m.write('<style type="text/css">#main{display:table;margin:0px auto 0px auto;}.caption{background-color:#000;color:#FFF;margin-top:20px;min-width:600px;}.section{background-color:#FFF;border:1px solid #000;padding:4px;}.section.collapse{display:none;}.caption,.section{box-shadow:4px 4px 8px rgba(0,0,0,0.4);}.footnote{font-size:50%;color:#666;}.cells{font-size:0px;}.cellc{text-align:center;padding:0px 4px;font-weight:bold;color:#444;}.un{background-color:#000;color:#FFF;}.caption .toggle{padding:0px 12px;margin:2px 8px;}.cellc .toggle{height:100%;padding:0px 2px;margin:0px;}.editing .toggle{display:none;}.notoggle{display:none;}.editing .notoggle{display:inline;}</style>');
m.write('<style type="text/css">.tsumo0,.ron0,.tsumo1,.ron1,.tsumoc,.ronc,.detail,.agari{display:none;}.oya0 .sel1 .tsumo0,.oya1 .sel1 .tsumo1,.oya0 .sel2 .ron0,.oya1 .sel2 .ron1,.sel1 .tsumoc,.sel2 .ronc,.sel1 .detail,.sel2 .detail{display:inline;}.showdetail .detail{background:#000;color:#FFF;}.sel1.showdetail .agari,.sel2.showdetail .agari{display:table-row;}</style>');m.write('<style type="text/css">.sync1 .ifsync0{display:none;}.sync0 .ifsync1{display:none;}</style>');
V=function(){function h(){"kyoku"==this.id?(P.u(),L.call("CompileResult",Q)):"aka51"==this.id||"aka52"==this.id||"aka53"==this.id?(C.j(p("aka51").selectedIndex,p("aka52").selectedIndex,p("aka53").selectedIndex),P.u()):L.call("CompileResult",Q);S.n({path:$[this.id],val:this.selectedIndex})}function g(){S.n({path:$[this.id],val:this.value})}function b(a,b,c){for(var e="",f=0;f<b;++f)e+="<option>"+c(f)+"</option>";return"<select id="+a+">"+e+"</select>"}V=void 0;var e;e='<div class="caption f100"><button class=toggle>+</button>LOAD/SAVE</div><div class="section collapse f075"><center><table cellpadding=0 cellspacing=0 class=w100><tr class=ifsync0><td><button class=w100 id=editastext>EDIT AS TEXT</button></td></tr><tr class=ifsync0><td><button class=w100 id=loadfromurl>LOAD FROM URL</button></td></tr><tr><td><button class=w100 id=saveasviewer>SAVE AS VIEWER URL</button></td></tr><tr class=ifsync0><td><button class=w100 id=opennextblank>OPEN NEXT BLANK</button></td></tr><tr class=ifsync1><td><button class=w100 id=clearfornext>CLEAR FOR NEXT</button></td></tr></table><div class=footnote>Max URL Length(IE=2083, Apache=8177, HTML=1024-65536, BLOG=256-65536)</div><div class=ifsync0><br><input type=checkbox checked id=autosave style="width:27px;height:27px;vertical-align:middle;"/>\u81ea\u52d5\u4fdd\u5b58<br><div class=footnote>\u203b\u7de8\u96c6\u3059\u308b\u3068URL HASH\u304c\u66f4\u65b0\u3055\u308c\u307e\u3059</div><br></div></center></div>';
e+='<div class="caption f100"><button class=toggle>+</button>\u30eb\u30fc\u30eb</div>';e+='<div class="section collapse rule" style="vertical-align:middle;">\u8868\u8a18\u540d = <input id=disp /><br>\u8d64\u4e94\u842c = '+b("aka51",5,function(a){return a+"\u679a"})+"<br>\u8d64\u4e94\u7b52 = "+b("aka52",5,function(a){return a+"\u679a"})+"<br>\u8d64\u4e94\u7d22 = "+b("aka53",5,function(a){return a+"\u679a"})+"<br>\u5bfe\u6226\u4eba\u6570 = 4\u4eba<br>\u795d\u5100 = \u4e0d\u660e<br>\u4f9b\u8a17 = \u4e0a\u5bb6\u53d6\u308a<br>\u7a4d\u68d2 = \u5305\u8cac\u8005\u30fb\u4e0a\u5bb6\u53d6\u308a<br>\u9023\u8358 = \u4e0d\u5b9a<br></div>";
e+='<div class="caption f100"><button class=toggle>-</button>\u5bfe\u6226\u60c5\u5831</div>';e+='<div class=section><div class="forescapeios6inputbug f100"><input id=title0 class="w100 f100"/><br><input id=title1 class="w100 f100"/><br>'+b("kyoku",16,function(a){return B(~~(a/4))+(a%4+1)+"\u5c40"})+b("honba",15,function(a){return a+"\u672c\u5834"})+b("kyoutaku",15,function(a){return"\u4f9b\u8a17"+1E3*a+"\u70b9"})+"</div></div>";e+='<div class="caption f100"><button class=toggle>-</button>\u30c9\u30e9</div>';
e+="<div class=section><table cellpadding=0 cellspacing=0><tr><td><table cellpadding=0 cellspacing=0><tr><td class=cellc>\u8868\u30c9\u30e9<br>\u8868\u793a</td><td class=cells></td></tr></table></td><td width=20></td><td><table cellpadding=0 cellspacing=0><tr><td class=cellc>\u88cf\u30c9\u30e9<br>\u8868\u793a</td><td class=cells></td></tr></table></td></tr></table></div>";var c;c='<div class="caption f100"><button class=toggle>-</button><span class=kaze></span> <input id=un$ class=un /></div>'+('<div class=section><table cellpadding=0 cellspacing=0 class=w100><tr><td class=cellc>\u914d<br>\u724c</td><td class=cells></td></tr><tr><td></td><td class=cells></td></tr><tr><td class=cellc>\u53d6</td><td class=cells></td></tr><tr><td></td><td class=cells></td></tr><tr><td class=cellc>\u51fa</td><td class=cells></td></tr><tr><td class=cellc><button class=toggle>+<br>\u6700<br>\u7d42</button><span class=notoggle>\u6700<br>\u7d42</span></td><td class=cells></td></tr></table><table cellpadding=0 cellspacing=0 style="width:100%;margin-top:10px;"><tr><td class=ten style="border:1px solid #CCC;"></td><td class=sel0 style="width:100%;padding:0px 4px;"><select class=restype><option></option><option>\u30c4\u30e2</option><option>\u30ed\u30f3</option><option>\u653e\u9283</option><option>\u8074\u724c</option><option>\u4e0d\u8074</option><option>\u6d41\u3057\u6e80\u8cab</option><option>\u4e5d\u7a2e\u4e5d\u724c</option><option>\u4e09\u5bb6\u548c\u4e86</option><option>\u56db\u98a8\u9023\u6253</option><option>\u56db\u5bb6\u7acb\u76f4</option><option>\u56db\u69d3\u6563\u4e86</option></select><select class=tsumo0>'+
G.W()+"</select><select class=tsumo1>"+G.X()+"</select><select class=tsumoc>"+G.Y+"</select><select class=ron0>"+G.T()+"</select><select class=ron1>"+G.U()+"</select><select class=ronc>"+G.V+'</select><button class=detail>\u8a73\u7d30</button><br><span class=result></span></td><td class=ten style="border:1px solid #CCC;"></td></tr><tr class=agari><td colspan=3><select class=yaku>'+G.g()+"</select><select class=yaku>"+G.g()+"</select><select class=yaku>"+G.g()+"</select><br><select class=yaku>"+G.g()+
"</select><select class=yaku>"+G.g()+"</select><select class=yaku>"+G.g()+"</select><br><select class=yaku>"+G.g()+"</select><select class=yaku>"+G.g()+"</select><select class=yaku>"+G.g()+"</select><br><select class=yaku>"+G.g()+"</select><select class=dora>"+G.Z+"</select><select class=dora>"+G.$+"</select><select class=dora>"+G.aa+"</select></td></tr></table></div>");e+=c.replace(/\$/g,"0");e+=c.replace(/\$/g,"1");e+=c.replace(/\$/g,"2");e+=c.replace(/\$/g,"3");p("main").innerHTML=e;m.body.classList.add("sync"+
(K.sync?1:0));K.sync&&(m.title="\u5929\u9cf3\u63a1\u8b5c"+K.sync);J&&(q("caption")[6].style.display=q("section")[6].style.display="none");e=q("cells");M.j(e);P.j(e);e=q("ten");for(c=0;4>c;++c)e[2*c+0].innerHTML='<table style="text-align:center;"><tr><td class=ten'+(c+3)%4+" rowspan=2>250</td><td class=ten"+(c+2)%4+">250</td><td class=ten"+(c+1)%4+" rowspan=2>250</td></tr><tr><td><input type=text id=ten"+(c+0)%4+" class=ten"+(c+0)%4+' value=250 size=4 style="width:'+36*1.3+'px;text-align:center;"/></td></tr></table>',
e[2*c+1].innerHTML='<table style="text-align:right;"><tr><td class=ten'+(c+3)%4+" rowspan=2>250</td><td class=ten"+(c+2)%4+">250</td><td class=ten"+(c+1)%4+" rowspan=2>250</td></tr><tr><td class=ten"+(c+0)%4+">250</td></tr></table>";e=m.getElementsByTagName("INPUT");for(c=0;c<e.length;++c)"autosave"!=e[c].id&&(e[c].classList.add("clickready"),e[c].onchange=g);p("ten0").onchange=p("ten1").onchange=p("ten2").onchange=p("ten3").onchange=function(){L.call("CompileResult",Q);S.n({path:$[this.id],val:100*
this.value})};p("autosave").onchange=function(){L.call("storage.autoSave",S.v)};e=m.getElementsByTagName("SELECT");for(c=0;c<e.length;++c)e[c].classList.add("clickready"),e[c].onchange=h,e[c].id||(e[c].id="sel"+c,$[e[c].id]="/log/0/16/"+Math.floor((c-6)/20+1)+"/"+(c-6)%20);e=q("detail");e[0].onclick=e[1].onclick=e[2].onclick=e[3].onclick=function(){x();this.parentNode.parentNode.parentNode.parentNode.classList.toggle("showdetail")};p("editastext").onclick=function(){x();var a=window.prompt(this.innerText,
Z());null!==a&&Y(a,0,!1);L.call("storage.autoSave",S.v)};p("loadfromurl").onclick=function(){x();var a=window.prompt(this.innerText+"\n\u7a7a\u306e\u914d\u724c/\u53d6\u724c/\u6253\u724c\u306f\u73fe\u5728\u306e\u5185\u5bb9\u3092\u4fdd\u6301\u3057\u307e\u3059","");if(null===a||null===a.match(/[#\?]json=([^"&]+)/))return!1;a=RegExp.$1;a=decodeURIComponent(a);Y(a,0,!0);L.call("storage.autoSave",S.v)};p("saveasviewer").onclick=function(){x();window.open("http://tenhou.net/5/#json="+Z(!0),"_blank")};p("opennextblank").onclick=
function(){x();var a=Z(),a=JSON.parse(a);a.log=[[[p("kyoku").selectedIndex,p("honba").selectedIndex,p("kyoutaku").selectedIndex],[100*~~q("ten0")[1].innerText,100*~~q("ten1")[1].innerText,100*~~q("ten2")[1].innerText,100*~~q("ten3")[1].innerText]]];a.log[0][0][2]+=~~((~~p("ten0").value+~~p("ten1").value+~~p("ten2").value+~~p("ten3").value-(~~q("ten0")[1].innerText+~~q("ten1")[1].innerText+~~q("ten2")[1].innerText+~~q("ten3")[1].innerText))/10);a=JSON.stringify(a);console.log(a);window.open("#json="+
S.K(a),"_blank")};p("clearfornext").onclick=function(){if(window.confirm("\u6b21\u5c40\u5165\u529b\u7528\u306b\u30eb\u30fc\u30eb/\u30bf\u30a4\u30c8\u30eb\u4ee5\u5916\u306e\u60c5\u5831\u3092\u30af\u30ea\u30a2\u3057\u307e\u3059\u3002\n\u203b\u73fe\u5728\u306e\u724c\u8b5c\u306f\u300cSAVE AS VIEWER URL\u300d\u3067\u4fdd\u5b58\u3057\u3066\u304f\u3060\u3055\u3044")){S.q("","file="+K.sync+"&json=");var a=[[p("kyoku").selectedIndex,p("honba").selectedIndex,p("kyoutaku").selectedIndex],[100*~~q("ten0")[1].innerText,
100*~~q("ten1")[1].innerText,100*~~q("ten2")[1].innerText,100*~~q("ten3")[1].innerText]];a[0][2]+=~~((~~p("ten0").value+~~p("ten1").value+~~p("ten2").value+~~p("ten3").value-(~~q("ten0")[1].innerText+~~q("ten1")[1].innerText+~~q("ten2")[1].innerText+~~q("ten3")[1].innerText))/10);S.n({path:"/log/0/0",val:a[0]});S.n({path:"/log/0/1",val:a[1]})}};K.log&&K.log.match(/^\d{8,10}gm\-([0-9a-f]{4})\-\d{4,5}\-x?[0-9a-f]{8,16}$/)&&parseInt(RegExp.$1,16)&16&&(J=!0)};
if(!y){var ka=A("DIV",m.body,{},{zIndex:3,position:"absolute",visibility:"hidden",outline:"2px solid #F93",pointerEvents:"none"});m.body.onmouseover=function(h){h=h.target;if(h.classList.contains("disabled"))return!1;if(!h.classList.contains("clickready")&&(h=h.parentNode,!h||!h.classList.contains("clickready")))return;h=h.getBoundingClientRect();var g=ka.style;g.visibility="";g.left=(m.body.scrollLeft||m.documentElement.scrollLeft)+h.left+"px";g.top=w()+h.top+"px";g.width=h.width+"px";g.height=h.height+
"px"};m.body.onmouseout=function(){ka.style.visibility="hidden"}}function ga(h,g,b){h.ia=g;h.ja=b;y?(h.ontouchstart=g,h.ontouchcancel=h.ontouchend=b):(h.onmousedown=g,h.onmouseup=b)}function la(h){var g=q("editing");if(!g.length)return null;for(g=g[0];h;h=h.parentNode){if("panel"==h.id)return"panel";if(h==g)return"cells"}return null}ga(m.body,function(h){la(h.target)&&h.target.classList.contains("clickready")&&x();var g=la(h.target);"panel"!=g&&T.B(g?h.target:void 0)},function(){da.set()});
m.body.onclick=function(h){h=h.target;if("BUTTON"==h.tagName){if(h.classList.contains("toggle")){x();var g=h.parentNode.nextSibling;h.innerHTML=(g.classList.contains("collapse")?"-":"+")+h.innerHTML.substr(1);g.classList.toggle("collapse")}return!1}if("IMG"!=h.tagName||h.classList.contains("disabled")||!h.classList.contains("clickready")||!h.parentNode.classList.contains("cells"))return!0;for(g=h;"TABLE"!=g.tagName;g=g.parentNode);if(g.classList.contains("editing"))return!1;R.ca(g);T.B(h)};
window.onkeydown=function(h){var g=h.keyCode;(37<=g&&40>=g?T:R).d(g,h)&&x()};
void 0===m.body.classList?p("main").innerHTML+="<br>\u3053\u306e\u30d6\u30e9\u30a6\u30b6\u3067\u306f\u5fc5\u8981\u306a\u6a5f\u80fd\u306e\u4e00\u90e8\u304c\u5229\u7528\u3067\u304d\u307e\u305b\u3093<br><br>classList="+m.body.classList+"<br>":K.sync?S.q("file="+K.sync,void 0,function(h){L.call("CompileResult",Q);Y(h,0,!1);S.H()}):K.json?(L.call("CompileResult",Q),Y(decodeURIComponent(K.json),K.ts,!1),p("main").style.display=""):K.log?S.q("load="+K.log,void 0,function(h){if(void 0===K.ts)a:{var g=h;try{g=
JSON.parse(g)}catch(b){alert(b);break a}h=g.title;var g=g.log,e;e='<div class="caption f100"><button class=toggle>-</button>\u5c40\u4e00\u89a7</div><div class="section f075" style="padding:20px;">';h&&2==h.length&&(e+=h[0]+" "+h[1]+"<br>",e+="<br>");for(ts=0;ts<g.length;++ts)h=g[ts][0],ts&&(e+="<br>"),e+='<a href="'+location.href+"&ts="+ts+'" target=_blank>'+B(~~(h[0]/4))+(h[0]%4+1)+"\u5c40"+h[1]+"\u672c\u5834 \u4f9b\u8a17"+1E3*h[2]+"\u70b9</a><br>";e+="</div>";p("main").innerHTML=e}else Y(h,K.ts,
!1),L.call("CompileResult",Q,!0),location.replace(location.protocol+"//"+location.hostname+location.pathname+"#json="+Z(!0)+"&ts=0")}):(L.call("CompileResult",Q),Y("{}",0,!1),p("main").style.display="");
})();